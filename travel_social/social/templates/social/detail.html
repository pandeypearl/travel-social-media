{% extends 'base.html' %}
{% load static %}

{% block title %}{{ post.title }} - @{{  post.user }}{% endblock%}

{% block content %}
<div>
    <img src="{{post.image.url}}" alt="{{ post.location }}">
</div>

<div>
    <div>
        <h1>{{ post.title }}</h1>
        <p>{{ post.created }}</p>
        {% if user.is_authenticated %}
        <a href="{% url 'social:edit_post' pk=post.pk %}">edit post</a>
        {% endif %}
    </div>
    
    <div>
        <h2>{{ post.destination }}</h2>
        <h3>{{ post.dest_type }}</h3>
        <h4>{{ post.location }}</h4>
    </div>

    <div>
        <p>{{ post.content }}</p>
    </div>

    {% include 'social/likes.html' %}

    {% include 'social/comment.html' %}
    
</div>
{% endblock%}

{% block js %}
<script src="https://unpkg.com/htmx.org@1.6.0"></script>
<script>
    document.body.addEventListener('htmx:configRequest', (e) => {
    e.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
    })
</script>
{% endblock %}
    
    
